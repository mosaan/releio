# Releio ドメインビジョン

**最終更新**: 2025-12-29  
**バージョン**: 1.0  
**ステータス**: 承認済み

## What（何を提供するのか）

Releioは、複数のAIプロバイダー（OpenAI、Anthropic Claude、Google Gemini、Azure OpenAI）をシームレスに統合し、ストリーミング応答、Model Context Protocol（MCP）ツール連携、永続的なセッション管理、企業ネットワーク対応（プロキシ・証明書）、自動更新機能を備えた、プロダクション品質のデスクトップAIチャットアプリケーションです。

Electronベースの3プロセスアーキテクチャ（Main/Backend/Renderer）により、UIのレスポンス性を損なうことなく、重いAI処理やデータベース操作を効率的に実行できます。

## Why（なぜ必要なのか）

### 解決する課題

1. **AIプロバイダーの乱立**  
   複数のAIサービスを使い分ける必要があるユーザーに対し、単一のインターフェースで全プロバイダーにアクセスできる統合環境を提供します。

2. **企業ネットワーク環境での利用困難**  
   企業のプロキシサーバーやカスタムCA証明書が必要な環境でも、自動検出と設定機能により、スムーズに利用開始できます。

3. **会話履歴の管理と継続性の欠如**  
   ローカルSQLiteデータベースによる永続化により、アプリを再起動しても会話を継続でき、長期的なコンテキスト管理（会話圧縮・サマリ機能）も実現します。

4. **ツール実行の安全性確保**  
   MCPツールの実行許可システム（HITL: Human-in-the-Loop）により、危険な操作を事前に承認できる安全な環境を提供します。

### ビジネス価値

- **生産性向上**: 複数のAIサービスを切り替える手間を削減
- **セキュリティ**: ローカル実行によるデータ保護、ツール実行の承認フロー
- **コスト最適化**: プロバイダー間のモデル選択による最適なコストバランス
- **運用効率**: 自動更新機能による最新機能の迅速な展開

## Scope（スコープ）

### IN（含まれるもの）

**コア機能**

- ✅ マルチAIプロバイダー統合（OpenAI/Anthropic/Google/Azure）
- ✅ リアルタイムストリーミング応答
- ✅ チャットセッション管理（作成/一覧/検索/削除/アーカイブ）
- ✅ 会話履歴の永続化（SQLite + Drizzle ORM）
- ✅ 会話履歴圧縮（自動サマリ生成）

**MCP（Model Context Protocol）統合**

- ✅ MCPサーバー接続・管理（有効化/無効化/ステータス監視）
- ✅ ツール実行許可システム（HITL）
- ✅ ツール呼び出しログと結果の記録
- ✅ リソース・プロンプトの取得

**企業環境対応**

- ✅ プロキシ設定（System/Custom/None モード）
- ✅ カスタムCA証明書サポート
- ✅ 接続テスト機能
- ✅ Windows証明書ストア自動読み込み

**運用機能**

- ✅ 自動更新（Windows、静的Webサーバー対応）
- ✅ 設定のインポート/エクスポート
- ✅ 統合ログシステム（3プロセス統合）
- ✅ データベースマイグレーション

**開発者体験**

- ✅ TypeScript完全型安全
- ✅ tRPCによるIPC通信（型安全なRenderer↔Backend通信）
- ✅ Vitest統合テスト環境
- ✅ Hot Reload開発環境

### OUT（明示的に含まれないもの）

**現バージョンでは対象外**

- ❌ クラウド同期・マルチデバイス同期
- ❌ ユーザー認証・アカウント管理
- ❌ マルチユーザー/マルチテナント機能
- ❌ 音声入力・音声合成
- ❌ 画像生成・画像認識（マルチモーダル対応は将来検討）
- ❌ プラグインシステム（MCPで代替）
- ❌ モバイルアプリ版
- ❌ Linux/macOSでの完全なプロキシ/証明書自動検出（Windowsのみ完全対応）
- ❌ 規制対応（GDPR、HIPAA等）の完全実装

**設計上の境界**

- ❌ サーバーサイドBackend（すべてローカル実行）
- ❌ 課金・サブスクリプション管理
- ❌ AIモデルの学習・ファインチューニング
- ❌ リアルタイムコラボレーション

## Success Metrics（成功指標）

### ユーザー体験

- **初回起動から最初のチャット送信まで**: 3分以内（API設定完了時）
- **メッセージ送信からストリーミング開始まで**: 1秒以内
- **企業プロキシ環境での接続成功率**: 95%以上（適切な設定時）
- **セッション復元成功率**: 99.9%以上

### 技術品質

- **バックエンドテストカバレッジ**: 80%以上
- **CI/CD自動テスト成功率**: 95%以上
- **ログ統合性**: 3プロセスすべてのログが単一ファイルに集約
- **データベースマイグレーション成功率**: 100%

### 開発者体験

- **新規開発者のオンボーディング時間**: 1時間以内（README→開発環境起動→チャット動作確認）
- **型エラーによるビルド失敗**: 0件（TypeScript厳格モード）
- **主要コンセプトの理解時間**: 2時間以内（アーキテクチャ図・用語集参照）

### 運用効率

- **自動更新配信から適用まで**: 24時間以内（ユーザー操作含む）
- **重大バグ修正のリリースサイクル**: 48時間以内
- **設定バックアップ/リストア成功率**: 100%

## Key Stakeholders（主要関係者）

### プロダクト側

- **プロダクトオーナー**: 機能優先順位、ロードマップ策定
- **UXデザイナー**: UI/UX設計、ユーザビリティ改善
- **セキュリティ担当**: ツール実行許可ルール設計、証明書管理

### 技術側

- **Tech Lead / アーキテクト**: システム設計、技術選定、ADR作成
- **Backend開発者**: AI統合、データベース設計、MCP統合
- **Frontend開発者**: Reactコンポーネント、Assistant UI統合
- **DevOps**: ビルド・リリースプロセス、自動更新配信

### ユーザー側

- **エンドユーザー**: AIチャット利用者
- **企業IT管理者**: プロキシ・証明書設定、ツール実行ポリシー管理
- **パワーユーザー**: MCPサーバー設定、高度なカスタマイズ

## 関連ドキュメント

- [Core Glossary](./glossary.yaml) - ドメイン用語集
- [Bounded Context Map](../architecture/context-map.md) - コンテキスト境界
- [技術アーキテクチャ](../../../CLAUDE.md) - 開発者向けアーキテクチャガイド
- [ADRs](../adr/) - アーキテクチャ決定記録
